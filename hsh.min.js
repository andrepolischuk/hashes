// Hsh Â© 2013-2015 Andrey Polischuk github.com/andrepolischuk/hsh
!function(){"use strict";function e(a){if("*"===a)return new RegExp("^(.*)$");var b="^";a=a.split("/").splice(1);for(var c=0;c<a.length;c++)b+="/"+a[c];return b=b.replace(/([*])/g,"(.*)"),b+="$",new RegExp(b)}function f(){j.route=c.hash.substr(a.pref.length);for(var d=0;d<b.length;d++)if(b[d].exp.test(j.route)){b[d].fn(j.route);break}}function g(a){a!==c.hash&&(f(),a=c.hash),setTimeout(function(){g(a)},500)}function h(b,c){b in a&&(a[b]=c)}function i(){c.hash.length<=a.pref.length&&(c.hash=a.pref+a.index),f(),d?"addEventListener"in window?window.addEventListener("hashchange",f,!1):window.attachEvent("onhashchange",f):g()}function j(a,c){if("function"==typeof a)return j("*",a);if("function"==typeof c){var d={};d.path=a,d.exp=e(a),d.fn=c,b.push(d)}else i()}var a={};a.pref="#",a.index="/";var b=[],c=window.location,d="onhashchange"in window&&!(/MSIE.\d+\./gi.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/.*MSIE.(\d+)\..*/gi,"$1"))<8);j.route=null,j.set=function(a,b){if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&h(c,a[c]);else h(a,b)},j.redirectInternal=function(b){b||(c.hash=a.pref+b)},j.redirectExternal=function(a){a||(c=a)},"function"==typeof define&&define.amd?define([],function(){return j}):"undefined"!=typeof module&&module.exports?module.exports=j:this.hsh=j}.call(this);
