// Hashes Â© 2013-2014 Andrey Polischuk
// https://github.com/andrepolischuk/hashes
!function(){"use strict";function j(a){return"function"==typeof d?!1:("function"==typeof a&&(d=a,h(),"onhashchange"in window&&!e?"addEventListener"in window?window.addEventListener("hashchange",h,!1):"attachEvent"in window&&window.attachEvent("onhashchange",h):function b(a){a!==window.location.hash&&(h(),a=window.location.hash),setTimeout(function(){b(a)},500)}()),void 0)}var b={};b.pref="#",b.index="/";var c,d,e=/MSIE.\d+\./gi.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/.*MSIE.(\d+)\..*/gi,"$1"))<8,f=function(){return new RegExp("^"+b.pref+"(.+)$")},g=function(){return window.location.hash.replace(f(),"$1")},h=function(){window.location.hash.length<=b.pref.length&&(window.location.hash=b.pref+b.index);var a=g();return c===a?!1:(c=j.route=a,"function"==typeof d&&d(a),void 0)},i=function(a,c){a in b&&(b[a]=c)};j.route=b.index,j.set=function(a,b){if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&i(c,a[c]);else i(a,b)},j.redirectInternal=function(a){a||(window.location.hash=b.pref+a)},j.redirectExternal=function(a){a||(window.location=a)},"function"==typeof define&&define.amd?define([],function(){return j}):"undefined"!=typeof module&&module.exports?module.exports=j:this.hashes=j}.call(this);
